<!doctype html>
<html>
<head>
    <title>Voice SDK Sample</title>
</head>
<body>
<div id="app"></div>
<script>
    (function (d, n) {
        let js, lk, head = d.getElementsByTagName('head')[0];
        if (!d.getElementById(`${n}-js`)) {
            js = d.createElement('script');
            js.id = `${n}-js`;
            js.src = './js/voice-sdk.umd.cjs';
            head.appendChild(js);
        }

        if (!d.getElementById(`${n}-css`)) {
            lk = d.createElement('link');
            lk.id = `${n}-css`;
            lk.rel = 'stylesheet';
            lk.href = './css/voice-sdk.css';
            head.appendChild(lk);
        }
    }(document, 'voice-sdk'));

    window.onload = function () {
        window.VoiceSDK.init({
            el: 'app',
            appId: 'your-app-id',
            appName: 'pjico.metechvn.com',
            secretKey: 'your-secret-key',
        }, async i => {
            console.log(await i.connect({
                    extension: '100000',
                    password: 'MmE1NDUzZTU5OTM2NTZjYjk=',
                    gateways: ['ws://101.99.20.58:7080'],
                },
                {
                    delegate: {
                        onConnect: () => {
                            console.log('Connected');
                        },
                        onDisconnect: () => {
                            console.log('Disconnected');
                        }
                    },
                }
            ));

            i.disconnect();
        });
    }
</script>
</body>

</html>
